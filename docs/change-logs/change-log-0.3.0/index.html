<!doctype html><html lang=en data-bs-theme=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1"><link rel=preload as=font href=https://wldt.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://wldt.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://wldt.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script src=https://wldt.github.io/js/color-mode.86a91f050a481d0a3f0c72ac26543cb6228c770875981c58dcbc008fd3f875c8.js integrity="sha256-hqkfBQpIHQo/DHKsJlQ8tiKMdwh1mBxY3LwAj9P4dcg="></script>
<link rel=stylesheet href=https://wldt.github.io/main.98d23aa7dd660b0233b98b24d30523cee5fd41cfb982ee4b0a6bb8b34fb55ea28ace95aed41ea24c82c4057ab1cc4255fea9bbc7a77a05defea9ed01fb7324c0.css integrity="sha512-mNI6p91mCwIzuYsk0wUjzuX9Qc+5gu5LCmu4s0+1XqKKzpWu1B6iTILEBXqxzEJV/qm7x6d6Bd7+qe0B+3MkwA==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><title>Change Log 0.3.0 | WLDT</title><meta property="canonical" content="https://wldt.github.io/docs/change-logs/change-log-0.3.0/"><meta name=description content="Digital Adapters The following methods have been discontinued and removed from the DigitalAdapter class: onStateChangePropertyCreated onStateChangePropertyUpdated onStateChangePropertyDeleted onStatePropertyUpdated onStatePropertyDeleted onStateChangeActionEnabled onStateChangeActionUpdated onStateChangeActionDisabled onStateChangeEventRegistered onStateChangeEventRegistrationUpdated onStateChangeEventUnregistered onStateChangeRelationshipInstanceDeleted onStateChangeRelationshipDeleted onStateChangeRelationshipInstanceCreated onStateChangeRelationshipCreated onDigitalTwinStateEventNotificationReceived The Signature of the following methods have been changed: onDigitalTwinSync(IDigitalTwinState currentDigitalTwinState) -> onDigitalTwinSync(DigitalTwinState currentDigitalTwinState) onDigitalTwinUnSync(IDigitalTwinState currentDigitalTwinState) -> onDigitalTwinUnSync(DigitalTwinState currentDigitalTwinState) New methods that have been added are: onStateUpdate(DigitalTwinState newDigitalTwinState, DigitalTwinState previousDigitalTwinState, ArrayList<DigitalTwinStateChange> digitalTwinStateChangeList) onEventNotificationReceived(DigitalTwinStateEventNotification<?"><meta property="robots" content="index, follow"><meta property="og:url" content="https://wldt.github.io/docs/change-logs/change-log-0.3.0/"><meta property="og:title" content="Change Log 0.3.0"><meta property="og:locale" content="en"><meta property="og:site_name" content="WLDT"><meta property="og:type" content="website"><meta property="og:section" content="docs"><meta property="og:description" content="Digital Adapters The following methods have been discontinued and removed from the DigitalAdapter class: onStateChangePropertyCreated onStateChangePropertyUpdated onStateChangePropertyDeleted onStatePropertyUpdated onStatePropertyDeleted onStateChangeActionEnabled onStateChangeActionUpdated onStateChangeActionDisabled onStateChangeEventRegistered onStateChangeEventRegistrationUpdated onStateChangeEventUnregistered onStateChangeRelationshipInstanceDeleted onStateChangeRelationshipDeleted onStateChangeRelationshipInstanceCreated onStateChangeRelationshipCreated onDigitalTwinStateEventNotificationReceived The Signature of the following methods have been changed: onDigitalTwinSync(IDigitalTwinState currentDigitalTwinState) -> onDigitalTwinSync(DigitalTwinState currentDigitalTwinState) onDigitalTwinUnSync(IDigitalTwinState currentDigitalTwinState) -> onDigitalTwinUnSync(DigitalTwinState currentDigitalTwinState) New methods that have been added are: onStateUpdate(DigitalTwinState newDigitalTwinState, DigitalTwinState previousDigitalTwinState, ArrayList<DigitalTwinStateChange> digitalTwinStateChangeList) onEventNotificationReceived(DigitalTwinStateEventNotification<?"><meta property="og:see_also" content="https://wldt.github.io/docs/introduction/dt-model/"><meta property="og:see_also" content="https://wldt.github.io/docs/introduction/dt-life-cycle/"><meta property="og:see_also" content="https://wldt.github.io/docs/introduction/library-structure-basic-concepts/"><meta property="og:see_also" content="https://wldt.github.io/docs/guides/physical-adapter/"><meta property="og:see_also" content="https://wldt.github.io/docs/guides/shadowing-function/"><meta property="og:see_also" content="https://wldt.github.io/docs/guides/digital-adapter/"><meta name=twitter:card content="summary"><meta name=twitter:title content="Change Log 0.3.0"><meta name=twitter:description content="Digital Adapters The following methods have been discontinued and removed from the DigitalAdapter class: onStateChangePropertyCreated onStateChangePropertyUpdated onStateChangePropertyDeleted onStatePropertyUpdated onStatePropertyDeleted onStateChangeActionEnabled onStateChangeActionUpdated onStateChangeActionDisabled onStateChangeEventRegistered onStateChangeEventRegistrationUpdated onStateChangeEventUnregistered onStateChangeRelationshipInstanceDeleted onStateChangeRelationshipDeleted onStateChangeRelationshipInstanceCreated onStateChangeRelationshipCreated onDigitalTwinStateEventNotificationReceived The Signature of the following methods have been changed: onDigitalTwinSync(IDigitalTwinState currentDigitalTwinState) -> onDigitalTwinSync(DigitalTwinState currentDigitalTwinState) onDigitalTwinUnSync(IDigitalTwinState currentDigitalTwinState) -> onDigitalTwinUnSync(DigitalTwinState currentDigitalTwinState) New methods that have been added are: onStateUpdate(DigitalTwinState newDigitalTwinState, DigitalTwinState previousDigitalTwinState, ArrayList<DigitalTwinStateChange> digitalTwinStateChangeList) onEventNotificationReceived(DigitalTwinStateEventNotification<?"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","item":"https://wldt.github.io/","name":"White Label Digital Twins","position":1},{"@type":"ListItem","item":"https://wldt.github.io/docs/","name":"Docs","position":2},{"@type":"ListItem","item":"https://wldt.github.io/docs/change-logs/","name":"Change Logs","position":3},{"@type":"ListItem","name":"Change Log 0.3.0","position":4}]}</script><meta name=theme-color content><link rel=icon href=https://wldt.github.io/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=https://wldt.github.io/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=https://wldt.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://wldt.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://wldt.github.io/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://wldt.github.io/site.webmanifest></head><body class="single section docs" data-bs-spy=scroll data-bs-target=#toc data-bs-root-margin="0px 0px -60%" data-bs-smooth-scroll=true tabindex=0><div class=sticky-top><header class="navbar navbar-expand-lg"><div class=container-lg><a class="navbar-brand me-auto me-lg-3" href=https://wldt.github.io/>WLDT</a>
<button type=button id=searchToggleMobile class="btn btn-link nav-link mx-2 d-lg-none" aria-label="Search website"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></button>
<button class="btn btn-link d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavSection aria-controls=offcanvasNavSection aria-label="Open section navigation menu"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-dots-vertical" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M12 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M12 5m-1 0a1 1 0 102 0 1 1 0 10-2 0"/></svg></button><div class="offcanvas offcanvas-start d-lg-none" tabindex=-1 id=offcanvasNavSection aria-labelledby=offcanvasNavSectionLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavSectionLabel>Docs</h5><button type=button class="btn btn-link nav-link p-0" data-bs-dismiss=offcanvas aria-label=Close><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg></button></div><div class=offcanvas-body><aside class="doks-sidebar mt-n3"><nav id=doks-docs-nav aria-label="Tertiary navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-0b79795d3efc95b9976c7c5b933afce2 aria-expanded=false>
Introduction</button><div class=collapse id=section-0b79795d3efc95b9976c7c5b933afce2><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://wldt.github.io/docs/introduction/library-structure-basic-concepts/>Library Structure & Basic Concepts</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/introduction/dt-model/>DT Model</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/introduction/dt-life-cycle/>DT Life Cycle</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-bf647454e36069fd16f1a7a35cf6a865 aria-expanded=false>
Getting Started</button><div class=collapse id=section-bf647454e36069fd16f1a7a35cf6a865><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/physical-adapter/>Physical Adapter</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/shadowing-function/>Shadowing Function</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/digital-adapter/>Digital Adapter</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/dt-engine-dt-instance/>DT Engine & DT Instance</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/digital-actions/>Digital Actions</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/configurable-adapters/>Configurable Adapters</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-89413bd312d0909efb85e6693f36cb89 aria-expanded=false>
Adapters</button><div class=collapse id=section-89413bd312d0909efb85e6693f36cb89><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://wldt.github.io/docs/adapters/mqtt-physical-adapter/>MQTT Physical Adapter</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/adapters/mqtt-digital-adapter/>MQTT Digital Adapter</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/adapters/http-digital-adapter/>HTTP Digital Adapter</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3978929206deee2c125a1d732aae5545 aria-expanded=true>
Change Logs</button><div class="collapse show" id=section-3978929206deee2c125a1d732aae5545><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded active" href=https://wldt.github.io/docs/change-logs/change-log-0.3.0/>Change Log 0.3.0</a></li></ul></div></li></ul></nav></aside></div></div><button class="btn btn-link nav-link mx-2 order-3 d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasNavMain aria-controls=offcanvasNavMain aria-label="Open main navigation menu"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-menu" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg></button><div class="offcanvas offcanvas-end h-auto" tabindex=-1 id=offcanvasNavMain aria-labelledby=offcanvasNavMainLabel><div class=offcanvas-header><h5 class=offcanvas-title id=offcanvasNavMainLabel>WLDT</h5><button type=button class="btn btn-link nav-link p-0" data-bs-dismiss=offcanvas aria-label=Close><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-x" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6 6 18"/><path d="M6 6l12 12"/></svg></button></div><div class="offcanvas-body d-flex flex-column flex-lg-row justify-content-between"><ul class="navbar-nav flex-grow-1"><li class=nav-item><a class=nav-link href=https://wldt.github.io/docs/introduction/library-structure-basic-concepts/>Documentation</a></li><li class=nav-item><a class=nav-link href=https://wldt.github.io/blog/>Blog</a></li></ul><button type=button id=searchToggleDesktop class="btn btn-link nav-link p-2 d-none d-lg-block" aria-label="Search website"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></button>
<button id=buttonColorMode class="btn btn-link mx-auto nav-link p-0 ms-lg-2 me-lg-1" type=button aria-label="Toggle theme"><svg data-bs-theme-value="dark" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-moon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 3c.132.0.263.0.393.0a7.5 7.5.0 007.92 12.446A9 9 0 1112 2.992z"/></svg><svg data-bs-theme-value="light" xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-sun" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M12 12m-4 0a4 4 0 108 0 4 4 0 10-8 0m-5 0h1m8-9v1m8 8h1m-9 8v1M5.6 5.6l.7.7m12.1-.7-.7.7m0 11.4.7.7m-12.1-.7-.7.7"/></svg></button><ul id=socialMenu class="nav mx-auto flex-row order-lg-4"><li class=nav-item><a class="nav-link social-link" href=https://github.com/wldt><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg><small class="ms-2 visually-hidden">GitHub</small></a></li></ul></div></div></div></header></div><div class=modal id=searchModal tabindex=-1 aria-labelledby=searchModalLabel aria-hidden=true><div class="modal-dialog modal-dialog-scrollable modal-fullscreen-md-down"><div class=modal-content><div class=modal-header><h1 class="modal-title fs-5 visually-hidden" id=searchModalLabel>Search</h1><button type=button class="btn-close visually-hidden" data-bs-dismiss=modal aria-label=Close></button><div class="search-input flex-grow-1 d-none"><form id=search-form class=search-form action=# method=post accept-charset=utf-8 role=search><label for=query class=visually-hidden>Search</label><div class=d-flex><input type=search id=query name=query class="search-text form-control form-control-lg" placeholder=Search aria-label=Search maxlength=128 autocomplete=off>
<button type=button class="btn btn-link text-decoration-none px-0 ms-3 d-md-none" data-bs-dismiss=modal aria-label=Close>Cancel</button></div></form></div></div><div class=modal-body><p class="search-loading status message d-none mt-3 text-center">Loading search index…</p><p class="search-no-recent message d-none mt-3 text-center">No recent searches</p><p class="search-no-results message d-none mt-3 text-center">No results for "<strong><span class=query-no-results>Query here</span></strong>"</p><div id=searchResults class=search-results></div><template><article class="search-result list-view"><div class="card my-3"><div class=card-body><header><h2 class="h5 title title-submitted mb-0"><a class="stretched-link text-decoration-none text-reset" href=#>Title here</a></h2><div class="submitted d-none"><time class=created-date>Date here</time></div></header><div class=content>Summary here</div></div></div></article></template></div><div class=modal-footer><ul class="list-inline me-auto d-none d-md-block"><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4m3 3-3-3 3-3"/></g></svg></kbd><span class=DocSearch-Label>to select</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8m3-3-3 3-3-3"/></g></svg></kbd><kbd class=me-2><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8m3 3-3-3-3 3"/></g></svg></kbd><span class=DocSearch-Label>to navigate</span></li><li class=list-inline-item><kbd class=me-2><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993.0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016s1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5s-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864.0 1.6425 1.031 1.5443 2.2492h-2.956"/></g></svg></kbd><span class=DocSearch-Label>to close</span></li></ul><p class=d-md-none>Search by <a class=text-decoration-none href=https://github.com/nextapps-de/flexsearch>FlexSearch</a></p></div></div></div></div><div class="wrap container-lg" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar d-none d-lg-block"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-0b79795d3efc95b9976c7c5b933afce2 aria-expanded=false>
Introduction</button><div class=collapse id=section-0b79795d3efc95b9976c7c5b933afce2><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://wldt.github.io/docs/introduction/library-structure-basic-concepts/>Library Structure & Basic Concepts</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/introduction/dt-model/>DT Model</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/introduction/dt-life-cycle/>DT Life Cycle</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-bf647454e36069fd16f1a7a35cf6a865 aria-expanded=false>
Getting Started</button><div class=collapse id=section-bf647454e36069fd16f1a7a35cf6a865><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/physical-adapter/>Physical Adapter</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/shadowing-function/>Shadowing Function</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/digital-adapter/>Digital Adapter</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/dt-engine-dt-instance/>DT Engine & DT Instance</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/digital-actions/>Digital Actions</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/guides/configurable-adapters/>Configurable Adapters</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-89413bd312d0909efb85e6693f36cb89 aria-expanded=false>
Adapters</button><div class=collapse id=section-89413bd312d0909efb85e6693f36cb89><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=https://wldt.github.io/docs/adapters/mqtt-physical-adapter/>MQTT Physical Adapter</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/adapters/mqtt-digital-adapter/>MQTT Digital Adapter</a></li><li><a class="docs-link rounded" href=https://wldt.github.io/docs/adapters/http-digital-adapter/>HTTP Digital Adapter</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-3978929206deee2c125a1d732aae5545 aria-expanded=true>
Change Logs</button><div class="collapse show" id=section-3978929206deee2c125a1d732aae5545><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded active" href=https://wldt.github.io/docs/change-logs/change-log-0.3.0/>Change Log 0.3.0</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=page-links><h3>Index</h3><nav id=toc><ul><li><a href=#digital-adapters>Digital Adapters</a></li><li><a href=#shadowing-function>Shadowing Function</a></li><li><a href=#wldt-engine--dt-creation>WLDT Engine & DT Creation</a></li></ul><ul><li><a href=#features>Features</a></li><li><a href=#usage>Usage</a><ul><li><a href=#exception-handling>Exception Handling</a></li></ul></li><li><a href=#shadowing-function-changes>Shadowing Function Changes</a></li></ul><ul><li><ul><li></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=https://wldt.github.io/>Home</a></li><li class=breadcrumb-item><a href=https://wldt.github.io/docs/>Docs</a></li><li class=breadcrumb-item><a href=https://wldt.github.io/docs/change-logs/>Change Logs</a></li><li class="breadcrumb-item active" aria-current=page>Change Log 0.3.0</li></ol></nav><h1>Change Log 0.3.0</h1><nav class="toc-mobile d-xl-none" aria-label="Quaternary navigation"><details><summary>On this page</summary><div class=page-links><nav id=TableOfContents><ul><li><a href=#digital-adapters>Digital Adapters</a></li><li><a href=#shadowing-function>Shadowing Function</a></li><li><a href=#wldt-engine--dt-creation>WLDT Engine & DT Creation</a></li></ul><ul><li><a href=#features>Features</a></li><li><a href=#usage>Usage</a><ul><li><a href=#exception-handling>Exception Handling</a></li></ul></li><li><a href=#shadowing-function-changes>Shadowing Function Changes</a></li></ul><ul><li><ul><li></li></ul></li></ul></nav></div></details></nav><h2 id=digital-adapters>Digital Adapters<a href=#digital-adapters class=anchor aria-hidden=true>#</a></h2><ul><li>The following methods have been discontinued and removed from the <code>DigitalAdapter</code> class:<ul><li><code>onStateChangePropertyCreated</code></li><li><code>onStateChangePropertyUpdated</code></li><li><code>onStateChangePropertyDeleted</code></li><li><code>onStatePropertyUpdated</code></li><li><code>onStatePropertyDeleted</code></li><li><code>onStateChangeActionEnabled</code></li><li><code>onStateChangeActionUpdated</code></li><li><code>onStateChangeActionDisabled</code></li><li><code>onStateChangeEventRegistered</code></li><li><code>onStateChangeEventRegistrationUpdated</code></li><li><code>onStateChangeEventUnregistered</code></li><li><code>onStateChangeRelationshipInstanceDeleted</code></li><li><code>onStateChangeRelationshipDeleted</code></li><li><code>onStateChangeRelationshipInstanceCreated</code></li><li><code>onStateChangeRelationshipCreated</code></li><li><code>onDigitalTwinStateEventNotificationReceived</code></li></ul></li><li>The Signature of the following methods have been changed:<ul><li><code>onDigitalTwinSync(IDigitalTwinState currentDigitalTwinState)</code> -> <code>onDigitalTwinSync(DigitalTwinState currentDigitalTwinState)</code></li><li><code>onDigitalTwinUnSync(IDigitalTwinState currentDigitalTwinState)</code> -> <code>onDigitalTwinUnSync(DigitalTwinState currentDigitalTwinState)</code></li></ul></li><li>New methods that have been added are:<ul><li><code>onStateUpdate(DigitalTwinState newDigitalTwinState, DigitalTwinState previousDigitalTwinState, ArrayList&lt;DigitalTwinStateChange> digitalTwinStateChangeList)</code></li><li><code>onEventNotificationReceived(DigitalTwinStateEventNotification&lt;?> digitalTwinStateEventNotification)</code></li></ul></li><li>For additional details about Digital Adapters check Sub Section [[Change Log - v.0.3.0#Digital Adapter| Digital Adapters]]</li></ul><h2 id=shadowing-function>Shadowing Function<a href=#shadowing-function class=anchor aria-hidden=true>#</a></h2><ul><li><code>ShadowingModelFunction</code> is now <code>ShadowingFunction</code></li><li><code>this.digitalTwinState</code> is not directly accessible anymore and it is wrapped through the <code>DigitalTwinStateManager</code> using the variable <code>digitalTwinStateManager</code> (see next descriptions and changes)</li><li>The method <code>addRelationshipInstance</code> now take only one parameter that is the <code>DigitalTwinStateRelationshipInstance</code></li><li>The same change for example should be applied in the point of the code where the Shadowing Function receive a variation from the Physical world through a target adapter and the callback method <code>onPhysicalAssetPropertyVariation(...)</code></li><li>When the Shadowing Function has to compute the new DT State it can now work with the following method to handle DT State Transition:<ul><li><code>this.digitalTwinStateManager.startStateTransaction()</code></li><li>DT State variation methods such as:<ul><li><code>digitalTwinStateManager.createProperty()</code></li><li><code>digitalTwinStateManager.updateProperty()</code></li><li><code>digitalTwinStateManager.updatePropertyValue()</code></li><li><code>digitalTwinStateManager.deleteProperty()</code></li><li><code>digitalTwinStateManager.enableAction()</code></li><li><code>digitalTwinStateManager.updateAction()</code></li><li><code>digitalTwinStateManager.disableAction()</code></li><li><code>digitalTwinStateManager.registerEvent()</code></li><li><code>digitalTwinStateManager.updateRegisteredEvent()</code></li><li><code>digitalTwinStateManager.unRegisterEvent()</code></li><li><code>digitalTwinStateManager.createRelationship()</code></li><li><code>digitalTwinStateManager.addRelationshipInstance()</code></li><li><code>digitalTwinStateManager.deleteRelationship()</code></li><li><code>digitalTwinStateManager.deleteRelationshipInstance()</code></li></ul></li><li>At the end the transaction can be committed using the method: <code>digitalTwinStateManager.commitStateTransaction()</code></li></ul></li><li><ul><li>The method <code>notifyDigitalTwinStateEvent</code> is now available through the <code>digitalTwinStateManager</code></li></ul></li><li>Additional Details associated to Shadowing Function Migration can be found in the dedicated section [[Change Log - v.0.3.0#Shadowing Function Changes | Shadowing Function Changes]]</li></ul><h2 id=wldt-engine--dt-creation>WLDT Engine & DT Creation<a href=#wldt-engine--dt-creation class=anchor aria-hidden=true>#</a></h2><ul><li><code>WldtEngine</code> is now <code>DigitalTwin</code> and model and structure a single Digital Twin and takes the following parameters:<ul><li><code>String digitalTwinId</code></li><li><code>ShadowingFunction shadowingFunction</code></li></ul></li><li>The <code>startLifeCycle</code> has been removed from the DigitalTwin (previously WLDT Engine) and now <code>DigitalTwinEngine</code> should be used to start twins</li><li>Once a new Digital Twin has been create it has to be added to the <code>DigitalTwinEngine</code></li><li><code>DigitalTwinEngine</code> has dedicated method to start and stop twins such as:<ul><li><code>startAll()</code></li><li><code>startDigitalTwin(&lt;DIGITAL_TWIN_ID>);</code></li><li><code>stopAll()</code></li><li><code>digitalTwinEngine.stopDigitalTwin(&lt;DIGITAL_TWIN_ID>);</code></li></ul></li></ul><h1 id=digital-twin--digital-twin-engine>Digital Twin & Digital Twin Engine</h1><p>With the following code we now create a new Digital Twin Instance</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Create the new Digital Twin with its Shadowing Function  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>DigitalTwin</span> <span class=n>digitalTwin</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DigitalTwin</span><span class=o>(</span><span class=n>digitalTwinId</span><span class=o>,</span> <span class=k>new</span> <span class=n>DemoShadowingFunction</span><span class=o>());</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1>// Physical Adapter with Configuration  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwin</span><span class=o>.</span><span class=na>addPhysicalAdapter</span><span class=o>(</span>  
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>DemoPhysicalAdapter</span><span class=o>(</span>  
</span></span><span class=line><span class=cl>                <span class=n>String</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=s>&#34;%s-%s&#34;</span><span class=o>,</span> <span class=n>digitalTwinId</span><span class=o>,</span> <span class=s>&#34;test-physical-adapter&#34;</span><span class=o>),</span>  
</span></span><span class=line><span class=cl>                <span class=k>new</span> <span class=n>DemoPhysicalAdapterConfiguration</span><span class=o>(),</span>  
</span></span><span class=line><span class=cl>                <span class=kc>true</span><span class=o>));</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Digital Adapter with Configuration  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwin</span><span class=o>.</span><span class=na>addDigitalAdapter</span><span class=o>(</span>  
</span></span><span class=line><span class=cl>        <span class=k>new</span> <span class=n>DemoDigitalAdapter</span><span class=o>(</span>  
</span></span><span class=line><span class=cl>                <span class=n>String</span><span class=o>.</span><span class=na>format</span><span class=o>(</span><span class=s>&#34;%s-%s&#34;</span><span class=o>,</span> <span class=n>digitalTwinId</span><span class=o>,</span> <span class=s>&#34;test-digital-adapter&#34;</span><span class=o>),</span>  
</span></span><span class=line><span class=cl>                <span class=k>new</span> <span class=n>DemoDigitalAdapterConfiguration</span><span class=o>())</span>  
</span></span><span class=line><span class=cl><span class=o>);</span>
</span></span></code></pre></div><p>In the new version the DT cannot be directly run but it should be added to the <code>DigitalTwinEngine</code> in order to be executed through the WLDT Library</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Create the Digital Twin Engine
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>DigitalTwinEngine</span> <span class=n>digitalTwinEngine</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DigitalTwinEngine</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Add the Digital Twin to the Engine
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinEngine</span><span class=o>.</span><span class=na>addDigitalTwin</span><span class=o>(</span><span class=n>digitalTwin</span><span class=o>);</span>
</span></span></code></pre></div><p>In order to start a DT from the Engine you can:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Directly start when you add it passing a second boolean value = true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinEngine</span><span class=o>.</span><span class=na>addDigitalTwin</span><span class=o>(</span><span class=n>digitalTwin</span><span class=o>.</span> <span class=kc>true</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Starting the single DT on the engine through its id
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinEngine</span><span class=o>.</span><span class=na>startDigitalTwin</span><span class=o>(</span><span class=n>DIGITAL_TWIN_ID</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Start all the DTs registered on the engine
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinEngine</span><span class=o>.</span><span class=na>startAll</span><span class=o>();</span>
</span></span></code></pre></div><p>To stop a single twin or all the twin registered on the engine:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Stop a single DT on the engine through its id
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinEngine</span><span class=o>.</span><span class=na>stopDigitalTwin</span><span class=o>(</span><span class=n>DIGITAL_TWIN_ID</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Stop all the DTs registered on the engine
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinEngine</span><span class=o>.</span><span class=na>stopAll</span><span class=o>();</span>
</span></span></code></pre></div><p>It is also possible to remove a DT from the Engine with a consequent stop if it is active and the deletion of its reference from the engine:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Remove a single DT on the engine through its id
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinEngine</span><span class=o>.</span><span class=na>removeDigitalTwin</span><span class=o>(</span><span class=n>DIGITAL_TWIN_ID</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Remove all the DTs registered on the engine
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinEngine</span><span class=o>.</span><span class=na>removeAll</span><span class=o>();</span>
</span></span></code></pre></div><h1 id=digital-twin-state>Digital Twin State</h1><ul><li>DT State now has the reference timestamp representing the evaluation instant of the digital twin state, this timestamp is computed through the <code>DigitalTwinStateManager</code> and cannot manually set by the developer</li><li>The information available on the DT State are:<ul><li><code>properties</code>: List of Properties with their values (if available)</li><li><code>actions</code>: List of Actions that can be called on the DT</li><li><code>events</code>: List of Events that can be generated by the DT</li><li><code>relationships</code>: List of Relationships and their instances (if available)</li><li><code>evaluationInstant</code>: The timestamp representing the evaluation instant of the DT state</li></ul></li><li>Available main methods on that class instance are:<ul><li>Properties:<br>- <code>getProperty(String propertyKey)</code>: Retrieves if present the target DigitalTwinStateProperty by Key<br>- <code>containsProperty(String propertyKey)</code>: Checks if a target Property Key is already available in the current Digital Twin&rsquo;s State<br>- <code>getPropertyList()</code>: Loads the list of available Properties (described by the class DigitalTwinStateProperty) available on the Digital Twin&rsquo;s State<br>- <code>createProperty(DigitalTwinStateProperty&lt;?> dtStateProperty)</code>: Allows the creation of a new Property on the Digital Twin&rsquo;s State through the class DigitalTwinStateProperty<br>- <code>readProperty(String propertyKey)</code>: Retrieves if present the target DigitalTwinStateProperty by Key<br>- <code>updateProperty(DigitalTwinStateProperty&lt;?> dtStateProperty)</code>: Updates the target property using the DigitalTwinStateProperty and the associated Property Key field<br>- <code>deleteProperty(String propertyKey)</code>: Deletes the target property identified by the specified key</li><li>Actions:<br>- <code>containsAction(String actionKey)</code>: Checks if a Digital Twin State Action with the specified key is correctly registered<br>- <code>getAction(String actionKey)</code>: Loads the target DigitalTwinStateAction by key<br>- <code>getActionList()</code>: Gets the list of available Actions registered on the Digital Twin&rsquo;s State<br>- <code>enableAction(DigitalTwinStateAction digitalTwinStateAction)</code>: Enables and registers the target Action described through an instance of the DigitalTwinStateAction class<br>- <code>updateAction(DigitalTwinStateAction digitalTwinStateAction)</code>: Update the already registered target Action described through an instance of the DigitalTwinStateAction class<br>- <code>disableAction(String actionKey)</code>: Disables and unregisters the target Action described through an instance of the DigitalTwinStateAction class</li><li>Events:<br>- <code>containsEvent(String eventKey)</code>: Check if a Digital Twin State Event with the specified key is correctly registered<br>- <code>getEvent(String eventKey)</code>: Return the description of a registered Digital Twin State Event according to its Key<br>- <code>getEventList()</code>: Return the list of existing and registered Digital Twin State Events<br>- <code>registerEvent(DigitalTwinStateEvent digitalTwinStateEvent)</code>: Register a new Digital Twin State Event<br>- <code>updateRegisteredEvent(DigitalTwinStateEvent digitalTwinStateEvent)</code>: Update the registration and signature of an existing Digital Twin State Event<br>- <code>unRegisterEvent(String eventKey)</code>: Un-register a Digital Twin State Event<br>- <code>notifyDigitalTwinStateEvent(DigitalTwinStateEventNotification&lt;?> digitalTwinStateEventNotification)</code>: Method to notify the occurrence of the target Digital Twin State Event</li><li>Relationships:<br>- <code>containsRelationship(String relationshipName)</code>: Checks if a Relationship Name is already available in the current Digital Twin&rsquo;s State<br>- <code>createRelationship(DigitalTwinStateRelationship&lt;?> relationship)</code>: Creates a new Relationships (described by the class DigitalTwinStateRelationship) in the Digital Twin&rsquo;s State<br>- <code>addRelationshipInstance(String name, DigitalTwinStateRelationshipInstance&lt;?> instance)</code>: Adds a new Relationship instance described through the class DigitalTwinStateRelationshipInstance and identified through its name<br>- <code>getRelationshipList()</code>: Loads the list of existing relationships on the Digital Twin&rsquo;s State through a list of DigitalTwinStateRelationship<br>- <code>getRelationship(String name)</code>: Gets a target Relationship identified through its name and described through the class DigitalTwinStateRelationship<br>- <code>deleteRelationship(String name)</code>: Deletes a target Relationship identified through its name<br>- <code>deleteRelationshipInstance(String relationshipName, String instanceKey)</code>: Deletes the target Relationship Instance using relationship name and instance Key</li></ul></li></ul><h1 id=digital-twin-state-manager>Digital Twin State Manager</h1><p>The <code>DigitalTwinStateManager</code> is a Java class that serves as the default implementation of the <code>IDigitalTwinStateManager</code> interface within the White Label Digital Twin Java Framework (whitelabel-digitaltwin). This class allows developers to manage the state of a digital twin, including properties, actions, events, and relationships.</p><h2 id=features>Features<a href=#features class=anchor aria-hidden=true>#</a></h2><ul><li><strong>State Management:</strong> Handles the creation, update, and deletion of properties, actions, events, and relationships associated with the digital twin state.</li><li><strong>Transaction Support:</strong> Allows developers to start, commit, or rollback transactions to manage changes to the digital twin state.</li><li><strong>Event Notification:</strong> Notifies listeners about updates to the digital twin state through the WLDT event bus.</li></ul><p>When the Shadowing Function has to compute the new DT State it can now work with the following method to handle DT State Transition:
- Start the DT State Transaction: <code>startStateTransaction()</code>
- DT State variation methods such as:
- <code>createProperty()</code>
- <code>updateProperty()</code><br>- <code>updatePropertyValue()</code>
- <code>deleteProperty()</code>
- <code>enableAction()</code>
- <code>updateAction()</code>
- <code>disableAction()</code>
- <code>registerEvent()</code>
- <code>updateRegisteredEvent()</code>
- <code>unRegisterEvent()</code>
- <code>createRelationship()</code>
- <code>addRelationshipInstance()</code>
- <code>deleteRelationship()</code>
- <code>deleteRelationshipInstance()</code></p><p>At the end the transaction can be committed using the method: <code>commitStateTransaction()</code></p><h2 id=usage>Usage<a href=#usage class=anchor aria-hidden=true>#</a></h2><p>To use the <code>DigitalTwinStateManager</code> within your digital twin implementation:</p><ol><li><strong>Initialization:</strong> Create an instance of the <code>DigitalTwinStateManager</code>.</li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>DigitalTwinStateManager</span> <span class=n>digitalTwinStateManager</span> <span class=o>=</span> <span class=k>new</span> <span class=n>DigitalTwinStateManager</span><span class=o>();</span>
</span></span></code></pre></div><ol start=2><li><p><strong>State Transaction:</strong></p><ul><li>Start a new transaction using <code>startStateTransaction()</code> to manage changes.</li><li>Make changes to the digital twin state.</li><li>Commit the transaction using <code>commitStateTransaction()</code> to apply the changes.</li></ul></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=n>digitalTwinStateManager</span><span class=o>.</span><span class=na>startStateTransaction</span><span class=o>();</span> 
</span></span><span class=line><span class=cl><span class=c1>// Make changes to properties, actions, events, or relationships 
</span></span></span><span class=line><span class=cl><span class=c1>// [...]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinStateManager</span><span class=o>.</span><span class=na>commitStateTransaction</span><span class=o>();</span>
</span></span></code></pre></div><ol start=3><li><p><strong>Event Notification:</strong></p><ul><li>DT State Updates after a commit action are automatically notified to Digital Adapter by the Manager</li><li>Once an event incoming from the physical or generated by the DT itself is handled by the Shadowing Function, the developer can use <code>notifyDigitalTwinStateUpdate</code> to notify Digital Adapter listening about events variations.</li></ul></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Notify a specific event notification 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinStateManager</span><span class=o>.</span><span class=na>notifyDigitalTwinStateEvent</span><span class=o>(</span><span class=n>digitalTwinStateEventNotification</span><span class=o>);</span>
</span></span></code></pre></div><ol start=4><li><p><strong>Property, Action, Event, Relationship Management:</strong></p><ul><li>Create, update, or delete properties, actions, events, or relationships as needed.</li></ul></li></ol><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Begin Digital Twin State Transaction
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinStateManager</span><span class=o>.</span><span class=na>startStateTransaction</span><span class=o>();</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Create a new property 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinStateManager</span><span class=o>.</span><span class=na>createProperty</span><span class=o>(</span><span class=n>dtStateProperty</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Update an existing property 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinStateManager</span><span class=o>.</span><span class=na>updateProperty</span><span class=o>(</span><span class=n>dtStateProperty</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Delete a property 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinStateManager</span><span class=o>.</span><span class=na>deleteProperty</span><span class=o>(</span><span class=n>propertyKey</span><span class=o>);</span><span class=err>`</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Commit DT State Update to apply all the changes and notify the Digital Adapters and other listeners about the variation
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>digitalTwinStateManager</span><span class=o>.</span><span class=na>commitStateTransaction</span><span class=o>();</span>
</span></span></code></pre></div><h3 id=exception-handling>Exception Handling<a href=#exception-handling class=anchor aria-hidden=true>#</a></h3><ul><li>The class throws <code>WldtDigitalTwinStateException</code> to indicate errors related to digital twin state management.</li><li>Proper exception handling is advised to manage potential errors during state transactions.</li></ul><h2 id=shadowing-function-changes>Shadowing Function Changes<a href=#shadowing-function-changes class=anchor aria-hidden=true>#</a></h2><p>Now that the DT State is managed through the <code>DigitalTwinStateManager</code> class all the changes and variation should be applied on the DT ShadowingFunction using the previously presented transaction management and the correct call of methods <code>startStateTransaction()</code> and <code>commitStateTransaction()</code>.</p><p>Here there is an example of the change with a simple and demo shadowing function on callback <code>onDigitalTwinBound</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Override</span>  
</span></span><span class=line><span class=cl><span class=kd>protected</span> <span class=kt>void</span> <span class=nf>onDigitalTwinBound</span><span class=o>(</span><span class=n>Map</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>PhysicalAssetDescription</span><span class=o>&gt;</span> <span class=n>adaptersPhysicalAssetDescriptionMap</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=k>try</span><span class=o>{</span>    
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>		<span class=c1>// NEW -&gt; Start DT State Change Transaction  
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=k>this</span><span class=o>.</span><span class=na>digitalTwinStateManager</span><span class=o>.</span><span class=na>startStateTransaction</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=k>for</span><span class=o>(</span><span class=n>Map</span><span class=o>.</span><span class=na>Entry</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>PhysicalAssetDescription</span><span class=o>&gt;</span> <span class=n>entry</span> <span class=o>:</span> <span class=n>adaptersPhysicalAssetDescriptionMap</span><span class=o>.</span><span class=na>entrySet</span><span class=o>()){</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=n>String</span> <span class=n>adapterId</span> <span class=o>=</span> <span class=n>entry</span><span class=o>.</span><span class=na>getKey</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>			<span class=n>PhysicalAssetDescription</span> <span class=n>physicalAssetDescription</span> <span class=o>=</span> <span class=n>entry</span><span class=o>.</span><span class=na>getValue</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=c1>//In that simple case the Digital Twin shadow all the properties and actions available in the physical asset  
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=k>for</span><span class=o>(</span><span class=n>PhysicalAssetProperty</span><span class=o>&lt;?&gt;</span> <span class=n>p</span> <span class=o>:</span> <span class=n>physicalAssetDescription</span><span class=o>.</span><span class=na>getProperties</span><span class=o>())</span>  
</span></span><span class=line><span class=cl>				<span class=k>this</span><span class=o>.</span><span class=na>digitalTwinStateManager</span><span class=o>.</span><span class=na>createProperty</span><span class=o>(</span><span class=k>new</span> <span class=n>DigitalTwinStateProperty</span><span class=o>&lt;&gt;(</span><span class=n>p</span><span class=o>.</span><span class=na>getKey</span><span class=o>(),</span> <span class=n>p</span><span class=o>.</span><span class=na>getInitialValue</span><span class=o>()));</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=k>for</span><span class=o>(</span><span class=n>PhysicalAssetAction</span> <span class=n>a</span> <span class=o>:</span> <span class=n>physicalAssetDescription</span><span class=o>.</span><span class=na>getActions</span><span class=o>())</span>  
</span></span><span class=line><span class=cl>				<span class=k>this</span><span class=o>.</span><span class=na>digitalTwinStateManager</span><span class=o>.</span><span class=na>enableAction</span><span class=o>(</span><span class=k>new</span> <span class=n>DigitalTwinStateAction</span><span class=o>(</span><span class=n>a</span><span class=o>.</span><span class=na>getKey</span><span class=o>(),</span>  
</span></span><span class=line><span class=cl>						<span class=n>a</span><span class=o>.</span><span class=na>getType</span><span class=o>(),</span>  
</span></span><span class=line><span class=cl>						<span class=n>a</span><span class=o>.</span><span class=na>getContentType</span><span class=o>()));</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>			<span class=k>for</span><span class=o>(</span><span class=n>PhysicalAssetEvent</span> <span class=n>e</span><span class=o>:</span> <span class=n>physicalAssetDescription</span><span class=o>.</span><span class=na>getEvents</span><span class=o>())</span>  
</span></span><span class=line><span class=cl>				<span class=k>this</span><span class=o>.</span><span class=na>digitalTwinStateManager</span><span class=o>.</span><span class=na>registerEvent</span><span class=o>(</span><span class=k>new</span> <span class=n>DigitalTwinStateEvent</span><span class=o>(</span><span class=n>e</span><span class=o>.</span><span class=na>getKey</span><span class=o>(),</span> <span class=n>physicalAssetEvent</span><span class=o>.</span><span class=na>getType</span><span class=o>()));</span>  
</span></span><span class=line><span class=cl>		<span class=o>}</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=c1>// NEW -&gt; Commit DT State Change Transaction to apply the changes on the DT State and notify about the change  
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=k>this</span><span class=o>.</span><span class=na>digitalTwinStateManager</span><span class=o>.</span><span class=na>commitStateTransaction</span><span class=o>();</span>      
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>        <span class=c1>//Observer Target Physical Properties  
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span><span class=o>(</span><span class=n>Map</span><span class=o>.</span><span class=na>Entry</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>PhysicalAssetDescription</span><span class=o>&gt;</span> <span class=n>entry</span> <span class=o>:</span> <span class=n>adaptersPhysicalAssetDescriptionMap</span><span class=o>.</span><span class=na>entrySet</span><span class=o>()){</span>  
</span></span><span class=line><span class=cl>		  <span class=o>[...]</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>        <span class=c1>//Observe all the target available Physical Asset Events for each Adapter  
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span><span class=o>(</span><span class=n>Map</span><span class=o>.</span><span class=na>Entry</span><span class=o>&lt;</span><span class=n>String</span><span class=o>,</span> <span class=n>PhysicalAssetDescription</span><span class=o>&gt;</span> <span class=n>entry</span> <span class=o>:</span> <span class=n>adaptersPhysicalAssetDescriptionMap</span><span class=o>.</span><span class=na>entrySet</span><span class=o>()){</span>  
</span></span><span class=line><span class=cl>		  <span class=o>[...]</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>  
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>		<span class=c1>// Observer for Incoming Digital Actions
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>observeDigitalActionEvents</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>	    
</span></span><span class=line><span class=cl>	    <span class=c1>//Notify Shadowing Completed  
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=n>notifyShadowingSync</span><span class=o>();</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=o>}</span><span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>){</span>  
</span></span><span class=line><span class=cl>        <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>    <span class=o>}</span>  
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>The same change for example should be applied in the point of the code where the Shadowing Function receive a variation from the Physical world through a target adapter and the callback method <code>onPhysicalAssetPropertyVariation(...)</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Override</span>  
</span></span><span class=line><span class=cl><span class=kd>protected</span> <span class=kt>void</span> <span class=nf>onPhysicalAssetPropertyVariation</span><span class=o>(</span><span class=n>PhysicalAssetPropertyWldtEvent</span><span class=o>&lt;?&gt;</span> <span class=n>physicalPropertyEventMessage</span><span class=o>)</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=k>try</span> <span class=o>{</span>  
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>        <span class=k>if</span><span class=o>(</span><span class=n>physicalPropertyEventMessage</span> <span class=o>!=</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=n>getPhysicalEventsFilter</span><span class=o>().</span><span class=na>contains</span><span class=o>(</span><span class=n>physicalPropertyEventMessage</span><span class=o>.</span><span class=na>getType</span><span class=o>())){</span>  
</span></span><span class=line><span class=cl>   
</span></span><span class=line><span class=cl>            <span class=k>if</span><span class=o>(</span><span class=n>physicalPropertyEventMessage</span><span class=o>.</span><span class=na>getPhysicalPropertyId</span><span class=o>().</span><span class=na>equals</span><span class=o>(</span><span class=n>TestPhysicalAdapter</span><span class=o>.</span><span class=na>SWITCH_PROPERTY_KEY</span><span class=o>)</span>  
</span></span><span class=line><span class=cl>                    <span class=o>&amp;&amp;</span> <span class=n>physicalPropertyEventMessage</span><span class=o>.</span><span class=na>getBody</span><span class=o>()</span> <span class=k>instanceof</span> <span class=n>String</span><span class=o>){</span>  
</span></span><span class=line><span class=cl>			  <span class=o>[...]</span>  
</span></span><span class=line><span class=cl>            <span class=o>}</span>  
</span></span><span class=line><span class=cl>            <span class=k>else</span><span class=o>{</span>  
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>                <span class=c1>//Update Digital Twin State  
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=c1>//NEW -&gt; Start State Transaction
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>this</span><span class=o>.</span><span class=na>digitalTwinStateManager</span><span class=o>.</span><span class=na>startStateTransaction</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>                
</span></span><span class=line><span class=cl>                <span class=c1>// Update State Property Value
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>this</span><span class=o>.</span><span class=na>digitalTwinStateManager</span><span class=o>.</span><span class=na>updateProperty</span><span class=o>(</span>  
</span></span><span class=line><span class=cl>                        <span class=k>new</span> <span class=n>DigitalTwinStateProperty</span><span class=o>&lt;&gt;(</span>  
</span></span><span class=line><span class=cl>                                <span class=n>physicalPropertyEventMessage</span><span class=o>.</span><span class=na>getPhysicalPropertyId</span><span class=o>(),</span>  
</span></span><span class=line><span class=cl>                                <span class=n>physicalPropertyEventMessage</span><span class=o>.</span><span class=na>getBody</span><span class=o>()));</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>				<span class=c1>//NEW -&gt; Commit State Transaction
</span></span></span><span class=line><span class=cl><span class=c1></span>                <span class=k>this</span><span class=o>.</span><span class=na>digitalTwinStateManager</span><span class=o>.</span><span class=na>commitStateTransaction</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>            <span class=o>}</span>  
</span></span><span class=line><span class=cl>        <span class=o>}</span>  
</span></span><span class=line><span class=cl>        <span class=k>else</span>  
</span></span><span class=line><span class=cl>            <span class=n>logger</span><span class=o>.</span><span class=na>error</span><span class=o>(</span><span class=s>&#34;WRONG Physical Event Message Received !&#34;</span><span class=o>);</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=o>}</span><span class=k>catch</span> <span class=o>(</span><span class=n>Exception</span> <span class=n>e</span><span class=o>){</span>  
</span></span><span class=line><span class=cl>        <span class=n>e</span><span class=o>.</span><span class=na>printStackTrace</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>    <span class=o>}</span>  
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><h1 id=digital-adapter>Digital Adapter</h1><p>The Digital Adapter base class has been significantly extended and improved with respect to the previous version.
In this new Version notifications that are received by the Adapter from the the DT core belongs to the following categories:</p><ul><li><strong>Digital Twin State Update</strong> through the method <code>onStateUpdate(...)</code> providing information about the new state of the Digital Twin, the previous state, and a list of changes that occurred between these two states. In the previous version each variation of a property, relationships, actions or events were notified. In the new version only a committed DT&rsquo;State variation is notified to listeners.</li><li><strong>Event Notifications</strong> through the method <code>onEventNotificationReceived(...)</code> whenever there is a notification about an event related to the Digital Twin&rsquo;s state coming from the physical world, generated by the twin and processed by the Shadowing Function. For example in the DT State we can have the declaration of the <code>over-heating-alert</code> structured and received in the DT State while the effective occurrence of the event and the associated notification is notified through this dedicated callback</li></ul><p>The <code>onStateUpdate</code> method is an abstract method that must be implemented by any class extending the <code>DigitalAdapter</code> class. This method is called whenever there is an update to the Digital Twin&rsquo;s state. It provides information about the new state of the Digital Twin, the previous state, and a list of changes that occurred between these two states.</p><p>Here is an explanation of the parameters:</p><ol><li><p><code>newDigitalTwinState</code>: This parameter represents the updated state of the Digital Twin. It is an instance of the <code>DigitalTwinState</code> class, which encapsulates the current state information.</p></li><li><p><code>previousDigitalTwinState</code>: This parameter represents the state of the Digital Twin before the update. It is also an instance of the <code>DigitalTwinState</code> class.</p></li><li><p><code>digitalTwinStateChangeList</code>: This parameter is an <code>ArrayList</code> containing <code>DigitalTwinStateChange</code> objects. Each <code>DigitalTwinStateChange</code> object encapsulates information about a specific change that occurred between the previous and new states. It includes details such as the property or aspect of the state that changed, the previous value, and the new value.</p></li></ol><p>The DT State is automatically monitored by each Digital Adapter while for the <code>Events</code> potentially generated by the DT can be observed by each adapter using:</p><ul><li><code>observeAllDigitalTwinEventsNotifications</code>: Enable the observation of available Digital Twin State Events Notifications.</li><li><code>unObserveAllDigitalTwinEventsNotifications</code>: Cancel the observation of Digital Twin State Events Notifications</li><li><code>observeDigitalTwinEventsNotifications</code>: Enable the observation of the notification associated to a specific list of Digital Twin State events. With respect to event a notification contains the new associated value</li><li><code>unObserveDigitalTwinEventsNotifications</code>: Cancel the observation of a target list of properties</li><li><code>observeDigitalTwinEventNotification</code>: Enable the observation of the notification associated to a single Digital Twin State event. With respect to event a notification contains the new associated value</li><li><code>unObserveDigitalTwinEventNotification</code>: Cancel the observation of a single target event</li></ul><h4 id=digitaltwinstatechange-class>DigitalTwinStateChange Class<a href=#digitaltwinstatechange-class class=anchor aria-hidden=true>#</a></h4><p><strong>DigitalTwinStateChange Class</strong></p><p>The <code>DigitalTwinStateChange</code> class is a representation of a change that occurred in the state of a Digital Twin. It encapsulates information about the type of operation, the resource type, and the affected resource within the Digital Twin.</p><p><strong>Enums:</strong></p><ul><li><code>Operation</code>: Enumerates different types of operations that can be performed on a Digital Twin state. The possible operations are:<ul><li><code>OPERATION_UPDATE</code>: Represents an update operation on a resource.</li><li><code>OPERATION_UPDATE_VALUE</code>: Represents an update operation specifically on the value of a resource.</li><li><code>OPERATION_ADD</code>: Represents an addition operation of a new resource.</li><li><code>OPERATION_REMOVE</code>: Represents a removal operation of an existing resource.</li></ul></li><li><code>ResourceType</code>: Enumerates different types of resources within a Digital Twin. The possible resource types are:<ul><li><code>PROPERTY</code>: Represents a property of the Digital Twin.</li><li><code>PROPERTY_VALUE</code>: Represents the value of a property within the Digital Twin.</li><li><code>EVENT</code>: Represents an event associated with the Digital Twin.</li><li><code>ACTION</code>: Represents an action that can be performed on the Digital Twin.</li><li><code>RELATIONSHIP</code>: Represents a relationship between different components of the Digital Twin.</li><li><code>RELATIONSHIP_INSTANCE</code>: Represents an instance of a relationship.</li></ul></li></ul><p><strong>Fields:</strong></p><ul><li><code>operation</code>: Indicates the type of operation performed on the Digital Twin state (e.g., update, add, remove).</li><li><code>resourceType</code>: Represents the type of resource affected by the change (e.g., property, event, relationship).</li><li><code>resource</code>: The specific resource that has undergone the change, represented by an instance of the <code>DigitalTwinStateResource</code> class.</li></ul><p>Available type of <code>DigitalTwinStateResource</code> are:</p><ul><li><code>DigitalTwinStateProperty&lt;T></code>: This class define a generic property associated to the Digital Twin State. Each property is associated to a Key and a Value. Furthermore, it can also be associated to a type to identify its nature and data structure. By default, it is associated to the type of the Class (e.g., java.lang.String) but it can be directly changed by the developer to associate it to a specific ontology or data type.</li><li><code>DigitalTwinStateEvent</code>: This class define a generic event associated to the Digital Twin State. Events enable a mechanism for asynchronous messages to be sent by the digital twin (e.g., an overheating) . They are different from Properties that can change values according to the type of Digital Twin and may be associated also to telemetry patterns. Each event is associated to a Key and a Type used to identify its nature and data structure. By default, it is associated to the type of the Class (e.g., java.lang.String) but it can be directly changed by the developer to associate it to a specific ontology or data type.</li><li><code>DigitalTwinStateAction</code>: This class define a generic action associated to the Digital Twin State. Each action is by a key, an action type and a content type used to identify the expected input required by the action. The type of the can be directly changed by the developer to associate it to a specific ontology or data type.</li><li><code>DigitalTwinStateRelationship&lt;T></code>: Structures and describes a Relationship in the Digital Twins&rsquo;s State. This is just the description of the relationships while the effective values/instances are described through the other class DigitalTwinStateRelationshipInstance</li><li><code>DigitalTwinStateRelationshipInstance&lt;T></code>: Structures and describes a Relationship Instance in the Digital Twins&rsquo;s State. This is effective description of a relationship while its generic declaration is described through the class DigitalTwinStateRelationship.</li></ul><p>When there is a change in the DT State it is possibile to cast the received resource variation to the correct one. For example in the following code we detect and manage the variation on a Property Value:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=c1>// Get information from the state change  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>DigitalTwinStateChange</span><span class=o>.</span><span class=na>Operation</span> <span class=n>operation</span> <span class=o>=</span> <span class=n>stateChange</span><span class=o>.</span><span class=na>getOperation</span><span class=o>();</span>  
</span></span><span class=line><span class=cl><span class=n>DigitalTwinStateChange</span><span class=o>.</span><span class=na>ResourceType</span> <span class=n>resourceType</span> <span class=o>=</span> <span class=n>stateChange</span><span class=o>.</span><span class=na>getResourceType</span><span class=o>();</span>  
</span></span><span class=line><span class=cl><span class=n>DigitalTwinStateResource</span> <span class=n>resource</span> <span class=o>=</span> <span class=n>stateChange</span><span class=o>.</span><span class=na>getResource</span><span class=o>();</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl><span class=c1>// Search for property value variation  
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span><span class=o>(</span><span class=n>resourceType</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>DigitalTwinStateChange</span><span class=o>.</span><span class=na>ResourceType</span><span class=o>.</span><span class=na>PROPERTY_VALUE</span><span class=o>)</span> <span class=o>&amp;&amp;</span> <span class=n>operation</span><span class=o>.</span><span class=na>equals</span><span class=o>(</span><span class=n>DigitalTwinStateChange</span><span class=o>.</span><span class=na>Operation</span><span class=o>.</span><span class=na>OPERATION_UPDATE</span><span class=o>)</span> <span class=o>&amp;&amp;</span> <span class=n>resource</span> <span class=k>instanceof</span> <span class=n>DigitalTwinStateProperty</span><span class=o>){</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=n>DigitalTwinStateProperty</span><span class=o>&lt;?&gt;</span> <span class=n>digitalTwinStateProperty</span> <span class=o>=</span> <span class=o>(</span><span class=n>DigitalTwinStateProperty</span><span class=o>&lt;?&gt;)</span> <span class=n>resource</span><span class=o>;</span>  
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>    <span class=k>if</span><span class=o>(</span><span class=n>getConfiguration</span><span class=o>().</span><span class=na>getPropertyUpdateTopics</span><span class=o>().</span><span class=na>containsKey</span><span class=o>(</span><span class=n>digitalTwinStateProperty</span><span class=o>.</span><span class=na>getKey</span><span class=o>())){</span>  
</span></span><span class=line><span class=cl>        <span class=c1>//Handle property value variation
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=o>}</span>  
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p><strong>Constructors:</strong></p><ul><li><code>DigitalTwinStateChange()</code>: An empty constructor that allows creating an instance of the class.</li><li><code>DigitalTwinStateChange(Operation operation, ResourceType resourceType, DigitalTwinStateResource resource)</code>: Constructs a <code>DigitalTwinStateChange</code> object with specified operation, resource type, and resource. Throws a <code>WldtDigitalTwinStateException</code> if any of the parameters is missing or null.</li></ul><p><strong>Methods:</strong></p><ul><li>Accessor methods (<code>getOperation()</code>, <code>getResourceType()</code>, <code>getResource()</code>) to retrieve the values of the fields.</li><li>Mutator methods (<code>setOperation()</code>, <code>setResourceType()</code>, <code>setResource()</code>) to update the values of the fields.</li></ul><h4 id=usage-examples>Usage Examples<a href=#usage-examples class=anchor aria-hidden=true>#</a></h4><p>Developers extending the <code>DigitalAdapter</code> class should implement the <code>onStateUpdate</code> method to define custom logic that needs to be executed whenever the state of the Digital Twin is updated. This could include tasks such as processing state changes, updating internal variables, triggering specific actions, or notifying other components about the state update.</p><p>Here&rsquo;s an example of how the method might be implemented in a concrete subclass of <code>DigitalAdapter</code>:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-java data-lang=java><span class=line><span class=cl><span class=nd>@Override</span>
</span></span><span class=line><span class=cl><span class=kd>protected</span> <span class=kt>void</span> <span class=nf>onStateUpdate</span><span class=o>(</span><span class=n>DigitalTwinState</span> <span class=n>newDigitalTwinState</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                              <span class=n>DigitalTwinState</span> <span class=n>previousDigitalTwinState</span><span class=o>,</span>
</span></span><span class=line><span class=cl>                              <span class=n>ArrayList</span><span class=o>&lt;</span><span class=n>DigitalTwinStateChange</span><span class=o>&gt;</span> <span class=n>digitalTwinStateChangeList</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// In newDigitalTwinState we have the new DT State
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;New DT State is: &#34;</span> <span class=o>+</span> <span class=n>newDigitalTwinState</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// The previous DT State is available through the variable previousDigitalTwinState
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Previous DT State is: &#34;</span> <span class=o>+</span> <span class=n>previousDigitalTwinState</span><span class=o>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>// We can also check each DT&#39;s state change potentially differentiating the behaviour for each change
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=o>(</span><span class=n>digitalTwinStateChangeList</span> <span class=o>!=</span> <span class=kc>null</span> <span class=o>&amp;&amp;</span> <span class=o>!</span><span class=n>digitalTwinStateChangeList</span><span class=o>.</span><span class=na>isEmpty</span><span class=o>())</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>        <span class=c1>// Iterate through each state change in the list
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=o>(</span><span class=n>DigitalTwinStateChange</span> <span class=n>stateChange</span> <span class=o>:</span> <span class=n>digitalTwinStateChangeList</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>// Get information from the state change
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=n>DigitalTwinStateChange</span><span class=o>.</span><span class=na>Operation</span> <span class=n>operation</span> <span class=o>=</span> <span class=n>stateChange</span><span class=o>.</span><span class=na>getOperation</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>DigitalTwinStateChange</span><span class=o>.</span><span class=na>ResourceType</span> <span class=n>resourceType</span> <span class=o>=</span> <span class=n>stateChange</span><span class=o>.</span><span class=na>getResourceType</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            <span class=n>DigitalTwinStateResource</span> <span class=n>resource</span> <span class=o>=</span> <span class=n>stateChange</span><span class=o>.</span><span class=na>getResource</span><span class=o>();</span>
</span></span><span class=line><span class=cl>            
</span></span><span class=line><span class=cl>            <span class=c1>// Perform different actions based on the type of operation
</span></span></span><span class=line><span class=cl><span class=c1></span>            <span class=k>switch</span> <span class=o>(</span><span class=n>operation</span><span class=o>)</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>                <span class=k>case</span> <span class=n>OPERATION_UPDATE</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                    <span class=c1>// Handle an update operation
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Update operation on &#34;</span> <span class=o>+</span> <span class=n>resourceType</span> <span class=o>+</span> <span class=s>&#34;: &#34;</span> <span class=o>+</span> <span class=n>resource</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=k>case</span> <span class=n>OPERATION_UPDATE_VALUE</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                    <span class=c1>// Handle an update value operation
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Update value operation on &#34;</span> <span class=o>+</span> <span class=n>resourceType</span> <span class=o>+</span> <span class=s>&#34;: &#34;</span> <span class=o>+</span> <span class=n>resource</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=k>case</span> <span class=n>OPERATION_ADD</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                    <span class=c1>// Handle an add operation
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Add operation on &#34;</span> <span class=o>+</span> <span class=n>resourceType</span> <span class=o>+</span> <span class=s>&#34;: &#34;</span> <span class=o>+</span> <span class=n>resource</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=k>case</span> <span class=n>OPERATION_REMOVE</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                    <span class=c1>// Handle a remove operation
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Remove operation on &#34;</span> <span class=o>+</span> <span class=n>resourceType</span> <span class=o>+</span> <span class=s>&#34;: &#34;</span> <span class=o>+</span> <span class=n>resource</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>                <span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>                    <span class=c1>// Handle unknown operation (optional)
</span></span></span><span class=line><span class=cl><span class=c1></span>                    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;Unknown operation on &#34;</span> <span class=o>+</span> <span class=n>resourceType</span> <span class=o>+</span> <span class=s>&#34;: &#34;</span> <span class=o>+</span> <span class=n>resource</span><span class=o>);</span>
</span></span><span class=line><span class=cl>                    <span class=k>break</span><span class=o>;</span>
</span></span><span class=line><span class=cl>            <span class=o>}</span>
</span></span><span class=line><span class=cl>        <span class=o>}</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span> <span class=k>else</span> <span class=o>{</span>
</span></span><span class=line><span class=cl>        <span class=c1>// No state changes
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=s>&#34;No state changes detected.&#34;</span><span class=o>);</span>
</span></span><span class=line><span class=cl>    <span class=o>}</span>
</span></span><span class=line><span class=cl><span class=o>}</span>
</span></span></code></pre></div><p>In this example, the method iterates over the list of state changes, extracts information about each change, and performs custom actions based on the changes. Developers can adapt this method to suit the specific requirements of their Digital Twin application.</p><div class="page-footer-meta d-flex flex-column flex-md-row justify-content-between"><div class=last-modified><a href=https://github.com/wldt/wldt.github.io/commit/b9323c60e79642151fe202da46056f433e267a6a><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>Last updated on March 13, 2024</a></div><div class=edit-page><a href=https://github.com/wldt/wldt.github.io/blob/main/content//docs/change-logs/change-log-0.3.0.md><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-edit-2"><path d="M17 3a2.828 2.828.0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"/></svg>Edit this page on GitHub</a></div></div><div class="page-nav d-flex flex-column flex-sm-row"><div class="card w-100"><div class="card-body d-flex"><div class="d-flex flex-column justify-content-center"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-left" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M5 12l6 6"/><path d="M5 12l6-6"/></svg></div><div class="d-flex flex-column"><div class=text-body-secondary>Prev</div><a href=https://wldt.github.io/docs/adapters/mqtt-digital-adapter/ class="stretched-link text-reset text-decoration-none">MQTT Digital Adapter</a></div></div></div><div class=m-2></div><div class="card text-end w-100"><div class="card-body d-flex justify-content-end"><div class="d-flex flex-column"><div class=text-body-secondary>Next</div><a href=https://wldt.github.io/docs/adapters/http-digital-adapter/ class="stretched-link text-reset text-decoration-none">HTTP Digital Adapter</a></div><div class="d-flex flex-column justify-content-center"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-arrow-right" width="20" height="20" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 12h14"/><path d="M13 18l6-6"/><path d="M13 6l6 6"/></svg></div></div></div></div></main></div></div></div><footer class="footer text-muted"><div class=container-lg><div class=row><div class="col-lg-8 text-center text-lg-start"><ul class=list-inline><li class=list-inline-item><a class=text-muted href=https://wldt.github.io/privacy/>Privacy Policy</a></li></ul></div><div class="col-lg-8 text-center text-lg-end"><ul class=list-inline><li class=list-inline-item>Brought to you by <a class=text-muted href=https://gethyas.com/>Hyas</a></li></ul></div></div></div></footer><script async src=https://wldt.github.io/js/app.1e84dcdaa5ccef6fe83f6d88ac1e444a1f237111cfa2a7a97427f758e9c27ef4.js integrity="sha256-HoTc2qXM72/oP22IrB5ESh8jcRHPoqepdCf3WOnCfvQ="></script>
<script async src=https://wldt.github.io/js/flexsearch.dc00caef2c3490dbab3c345ed0d4133b0aafb803efeb21c3df80776d6d3ea821.js integrity="sha256-3ADK7yw0kNurPDRe0NQTOwqvuAPv6yHD34B3bW0+qCE="></script><script async src=https://wldt.github.io/js/search-modal.c4c023efcdee308e4b5f1110afe1db6b1656f217e67aa7efe54e2f4bf2feccf8.js integrity="sha256-xMAj783uMI5LXxEQr+HbaxZW8hfmeqfv5U4vS/L+zPg="></script><div class="d-inline-flex fixed-bottom-right pb-4 pe-4"><button id=toTop type=button class="btn btn-primary rounded-circle ms-auto p-2"><span class=visually-hidden>Top</span><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-up" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M6 15l6-6 6 6"/></svg></button></div></body></html>